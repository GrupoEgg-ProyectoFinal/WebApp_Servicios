<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuario</title>
    <link rel="stylesheet" href="/styles/styleVistaUsuario.css">
    <link rel="stylesheet" href="/styles/styleFooter.css">
</head>

<body>
    <header th:replace="~{/fragments/_navbar :: Navbar}"></header>
    <main>
        <!-- PÁGINA 1 'INICIO SESION'-->
        <section id="vistaUsuario">
            <h3></h3>
            <div class="proveedores-container">
                <div class="proveedor-card" style="--bg-image: url('/img/Gasista.png');">
                    <h2 class="titulo-lista"><strong>LISTA DE GASISTAS</strong></h2>
                    <div class="contenido">
                        <div class="lista-proveedores">
                            <div class="column-header">
                                <div class="col-avatar"></div>
                                <div class="col-nombre"><h3>NOMBRE</h3></div>
                                <div class="col-puntuacion"><h3>PUNTUACIÓN</h3></div>
                                <div class="col-contratar"></div>
                            </div>
                            <!-- Aquí irán los nombres de los gasistas traídos desde la base de datos -->
                            <div class="proveedor" th:each="gasista : ${gasistas}">
                                <div class="col-avatar">
                                    <img th:src="@{/imagen/perfil/__${gasista.id.toString}__}"  alt="Perfil de Gaston Estalla" class="avatar" height="50px" width="50px">
                                </div>
                                <div class="col-nombre">
                                    <h4 th:text="${gasista.usuario.nombre} + ' ' + ${gasista.usuario.apellido}">Gaston Estalla</h4>
                                </div>
                                <div class="col-puntuacion">
                                    ⭐⭐⭐⭐⭐
                                </div>
                                <div class="col-contratar">                                    
                                    <a th:href="@{/contratar/crearSolicitud/{id}(id=${gasista.id.toString()})}" >

                                    <!-- <a th:href="@{/contratar/solicitud/__${gasista.id.toString}__}" target="_blank"> -->
                                        <h5>Contratar ➝</h5>
                                    </a>
                                </div>
                            </div>
                            <!-- Añadir más gasistas aquí -->
                        </div>
                    </div>
                </div>
        
                <!-- Repite la misma estructura para plomeros y electricistas -->
                <div class="proveedor-card" style="--bg-image: url('/img/Plomero.png');">
                    <h2 class="titulo-lista"><strong>LISTA DE PLOMEROS</strong></h2>
                    <div class="contenido">
                        <div class="lista-proveedores">
                            <div class="column-header">
                                <div class="col-avatar"></div>
                                <div class="col-nombre"><h3>NOMBRE</h3></div>
                                <div class="col-puntuacion"><h3>PUNTUACIÓN</h3></div>
                                <div class="col-contratar"></div>
                            </div>
                            <div class="proveedor"  th:each="plomero : ${plomeros}">
                                <div class="col-avatar">
                                    <img th:src="@{/imagen/perfil/__${plomero.id.toString}__}" alt="Perfil de Pedro PicaPiedra" class="avatar" height="50px" width="50px">
                                </div>
                                <div class="col-nombre">
                                <h4 th:text="${plomero.usuario.nombre} + ' ' + ${plomero.usuario.apellido}">Pedro PicaPiedra</h4>
                                </div>
                                <div class="col-puntuacion">
                                    ⭐⭐⭐⭐☆
                                </div>
                                <div class="col-contratar">
                                    <a href="contratar" target="_blank">
                                        <h5>Contratar ➝</h5>
                                    </a>
                                </div>
                            </div>
                            <!-- Añadir más plomeros aquí -->
                        </div>
                    </div>
                </div>
        
                <div class="proveedor-card" style="--bg-image: url('/img/Electricista.png');">
                    <h2 class="titulo-lista"><strong>LISTA DE ELECTRICISTAS</strong></h2>
                    <div class="contenido">
                        <div class="lista-proveedores">
                            <div class="column-header">
                                <div class="col-avatar"></div>
                                <div class="col-nombre"><h3>NOMBRE</h3></div>
                                <div class="col-puntuacion"><h3>PUNTUACIÓN</h3></div>
                                <div class="col-contratar"></div>
                            </div>
                            <div class="proveedor"  th:each="electricista : ${electricistas}">
                                <div class="col-avatar">
                                    <!-- th:src="@{/imagen/perfil/__${electricista.id.toString}__}" -->
                                    <img th:src="@{/imagen/perfil/__${electricista.id.toString}__}" alt="Perfil de Elena Chispa" class="avatar" height="50px" width="50px">
                                </div>
                                <div class="col-nombre">
                                    <h4 th:text="${electricista.usuario.nombre} + ' ' + ${electricista.usuario.apellido}">Elena Chispa</h4>
                                </div>
                                <div class="col-puntuacion">
                                    ⭐⭐⭐☆☆
                                </div>
                                <div class="col-contratar">
                                    <a href="contratar" target="_blank">
                                        <h5>Contratar ➝</h5>
                                    </a>
                                </div>
                            </div>
                            <!-- Añadir más electricistas aquí -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer th:replace="~{/fragments/footer :: footerFragment}">

    </footer>
    <!--correr spring terminal   ./mvnw spring-boot:run  -->
</body>
</html>